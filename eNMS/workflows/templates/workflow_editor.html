{% extends "base_site.html" %}

{% block title %} Workflow editor {% endblock title %}

{% block stylesheets %}
  {{ super() }}
 <!-- Vis CSS -->
  <link href="{{ url_for('workflows_blueprint.static', filename='vis/vis-network.min.css') }}" rel="stylesheet">
  <!-- Difflib CSS -->
  <link href="{{ url_for('tasks_blueprint.static', filename='difflib/diffview.css') }}" rel="stylesheet">
  <style>
    #main { height:90vh; }
    @media (min-width: 1000px) {
      .modal-lg {
        width: 1200px;
      }
    }

    #contextMenu {
      position: absolute;
      display:none;
    }
  </style>
{% endblock stylesheets %}

{% block content %}
  {% include 'inner_task_scheduling_modal.html' %}
  {% include 'task_modals.html' %}
  {% include 'editor_panels.html' %}
{% endblock content %}

{% block javascripts %}
  {{ super()}}
  <script>
    var workflow = {{ workflow|tojson|safe }};
  </script>
  <!-- Task scheduling -->
  <script src="{{ url_for('tasks_blueprint.static', filename='scheduleTask.js') }}"></script>
  <!-- Task management -->
  <script src="{{ url_for('tasks_blueprint.static', filename='taskManagement.js') }}"></script>
  <!-- Vis JS -->
  <script src="{{ url_for('workflows_blueprint.static', filename='vis/vis.js') }}"></script>
  <script src="{{ url_for('workflows_blueprint.static', filename='workflowEditor.js') }}"></script>
  <!-- Difflib -->
  <script src="{{ url_for('tasks_blueprint.static', filename='difflib/diffview.js') }}"></script>
{% endblock javascripts %}